
@using PhotoArtSystem.Web.Areas.Administration.ViewModels
@model PhotocourseCreateViewModel

@{
    ViewBag.Title = @HtmlConstants.AdministrationAreaName;
}


<div id="photoartsystem-photocourse-create" class="container">
    <h2>Create Photocource</h2>
    <hr />

    @using (Ajax.BeginForm<PhotocourseSetupController>(c => c.Create(), null, null, new { @class = "form-horizontal", enctype = "multipart/form-data" }))
    {
        <div class="row">
            <div class="col-md-4">
                @Html.EditorFor(m => m.Name)
            </div>
            <div class="col-md-4">
                @Html.EditorFor(m => m.MaxStudents)
            </div>
            <div class="col-md-4">
                @Html.EditorFor(m => m.Teacher)
            </div>
        </div>

        <div class="row">
            <div class="col-md-4">
                @Html.EditorFor(m => m.DurationHours)
            </div>
            <div class="col-md-4">
                @Html.EditorFor(m => m.StartDate)
            </div>
            <div class="col-md-4">
                @Html.EditorFor(m => m.EndDate)
            </div>
        </div>

        @Html.EditorFor(m => m.DescriptionShort)

        @Html.EditorFor(m => m.Description)

        @Html.EditorFor(m => m.OtherInfo)

        @Html.HiddenFor(m => m.MainImageId)

        <div class="form-group">
            @Html.LabelFor(m => m.Files, new { @class = "control-label" })
            <label class="input">
                <span id="btn-images" class="button btn btn-success">
                    Browse
                </span>
                <input type="text" readonly="readonly" class="form-control input-readonly" />
            </label>
            @Html.TextBoxFor(m => m.Files, new { type = "file", multiple = "multiple", @class = "hidden" })
        </div>

        <div class="form-group">
            @Html.Submit("Submit", new { @class = "btn btn-default" })
        </div>
        @Html.ValidationSummary()
    }

</div>

@* ======================================================== *@

@*@Html.EditorFor(m => m.Images)
    <div class="row">
        <div class="col-sm-3">Image</div>
    </div>*@



@section scripts{
    @Scripts.Render("~/bundles/jqueryUnobtrusive")
    @Scripts.Render("~/bundles/jqueryval")
    @Scripts.Render("~/bundles/tinymceJs")
    <script type="text/javascript">
        $(function () {
            tinymce.init({
                selector: '.photoartsystem-tinymce',
                theme: 'modern',
                height: 150,
                plugins: [
                  'advlist autolink link lists charmap hr anchor pagebreak spellchecker',
                  'searchreplace wordcount visualblocks visualchars code fullscreen insertdatetime nonbreaking',
                  'save table contextmenu directionality emoticons template paste textcolor'
                ],
                toolbar: 'undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link | forecolor backcolor emoticons'
            });

            $.validator.setDefaults({
                ignore: ""
            });

            $('#btn-images').click(function (e) {
                e.preventDefault;
                e.stopImmediatePropagation();

                $('#Files').click();
            });
        });
    </script>
}

